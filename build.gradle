plugins {
    id 'java'
}

version = "1.0"


repositories {
    jcenter()
}

dependencies {
   implementation 'com.google.guava:guava:20.0'
   testImplementation 'junit:junit:4.13'
}

task housekeeping (type: Delete){
	destroyables.register("$rootProject.projectDir/build/")
 		delete "$rootProject.projectDir/build/"
}
	
test {
    useJUnit()
    filter {
    	// specified my test method
        includeTestsMatching "ZahlRatenTest.zahlWuerfelnInBereich"    
    }
}
 
jar {
	//modified jar file folder
    destinationDir = file("$rootProject.projectDir/build/_Lieferung_")
}

task docs (type: Javadoc){
	source = sourceSets.main.allJava
	classpath = configurations.compile
	destinationDir = file("$rootProject.projectDir/build/_api-dokumentation_")
	mustRunAfter housekeeping
}
 
task meinBuild {
 	dependsOn housekeeping 	//clean build folder
 	dependsOn test			//run JUnit test
 	dependsOn jar			// build jar file
 	dependsOn docs			// create API docs
}

